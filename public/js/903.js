(self.webpackChunk=self.webpackChunk||[]).push([[903],{3903:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>u});var o=s(6895),a=s(1967),r=s(1081),i=s(1015),n=s(8651),l=s(3311),c=s.n(l);const d={name:"Dashbaord",components:{Footer:o.Z,Sidebar:a.Z,BTab:i.L,BTable:n.h},computed:{user:function(){return this.$store.state.user},rooms:function(){return this.$store.state.rooms},validRoomForm:function(){return""!==this.room},confirmedPassword:function(){return!this.user.password||""==this.user.password||this.user.password===this.confirmPassword},validProfileForm:function(){return""!==this.user.email&&""!==this.user.name&&this.user.password==this.confirmPassword}},methods:{logout:function(){var t=this;this.$store.dispatch("signOut").then((function(e){var s=new(c());s.remove("user"),s.remove("token"),t.$router.replace("/").then((function(){t.$bvToast.toast("ðŸ‘‹",{title:"Goodbay..",variant:"success",solid:!0,autoHideDelay:5e3})}))}))},addRoom:function(t){var e=this;t.preventDefault(),this.$refs.submitRoomBtn.setAttribute("disabled",!0),this.$store.dispatch("addRoom",{name:this.room}).then((function(t){e.room="",e.$bvToast.toast(t.message,{title:"C'est fait!",variant:"success",solid:!0,autoHideDelay:5e3})})).catch((function(t){e.$bvToast.toast(t.message,{title:"Quelque chose ne va pas!",variant:"warning",solid:!0,autoHideDelay:5e3})})).finally((function(){e.$refs.submitRoomBtn.removeAttribute("disabled")}))},loadRooms:function(){var t=this;this.$store.dispatch("fetchRooms").catch((function(e){t.$bvToast.toast(e.message,{title:"Quelque chose ne va pas!",variant:"warning",solid:!0,autoHideDelay:5e3})}))},updateProfile:function(t){var e=this;t.preventDefault(),this.$refs.updateProfileBtn.setAttribute("disabled",!0),this.$store.dispatch("updateProfile",{uuid:this.user.uuid,email:this.user.email,password:this.user.password,fullname:this.user.name}).then((function(t){(new(c())).set("user",t.content),e.$bvToast.toast(t.message,{title:"C'est fait!",variant:"success",solid:!0,autoHideDelay:5e3})})).catch((function(t){e.$bvToast.toast(t.message,{title:"Quelque chose ne va pas!",variant:"warning",solid:!0,autoHideDelay:5e3})})).finally((function(){e.$refs.updateProfileBtn.removeAttribute("disabled")}))}},beforeRouteEnter:function(t,e,s){(0,r.r)()||s({name:"auth-signin"}),s()},mounted:function(){void 0!==this.rooms&&null!==this.rooms&&0!==Object.values(this.rooms).length||this.loadRooms()},data:function(){return{active:"dashboard",room:"",roomFields:[{key:"name",label:"Nom",sortable:!0},{key:"user.name",label:"User",sortable:!0},{key:"created_at",label:"CrÃ©Ã© Ã ",sortable:!0}],confirmPassword:null}}};const u=(0,s(1900).Z)(d,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-container",{attrs:{fluid:""}},[s("b-row",{staticClass:"main-card",attrs:{"align-v":"center","align-h":"center"}},[s("b-col",{attrs:{md:"10"}},[s("b-card",{staticClass:"overflow-hidden",staticStyle:{"min-height":"50vh"},attrs:{"no-body":""}},[s("b-card-body",[s("b-tabs",{attrs:{fill:""}},[s("b-tab",{attrs:{active:"dashboard"===t.active,title:"Dashboard"},on:{click:function(e){t.active="dashboard"}}}),t._v(" "),s("b-tab",{attrs:{active:"rooms"===t.active,title:"Rooms"},on:{click:function(e){t.active="rooms"}}},[s("b-row",[s("b-col",{attrs:{md:"4"}},[s("b-form",{staticClass:"mt-3 mb-3",on:{submit:t.addRoom}},[s("b-form-group",{attrs:{id:"room-group",label:"NumÃ©ro ou nom de la chambre:","label-for":"room"}},[s("b-form-input",{attrs:{id:"room",type:"text",placeholder:"Entrer numÃ©ro ou nom",required:""},model:{value:t.room,callback:function(e){t.room=e},expression:"room"}})],1),t._v(" "),s("b-row",{attrs:{"align-h":"end"}},[s("b-col",{attrs:{cols:"12"}},[s("b-button",{ref:"submitRoomBtn",attrs:{block:"",type:"submit",variant:"primary",disabled:!t.validRoomForm}},[t._v("Ajouter")])],1)],1)],1)],1),t._v(" "),s("b-col",{attrs:{md:"8"}},[s("b-table",{staticClass:"mt-3",attrs:{striped:"",hover:"",items:t.rooms,fields:t.roomFields}})],1)],1)],1),t._v(" "),s("b-tab",{attrs:{active:"rservations"===t.active,title:"Reservations"},on:{click:function(e){t.active="rservations"}}}),t._v(" "),s("b-tab",{attrs:{active:"profile"===t.active,title:"Update profile"},on:{click:function(e){t.active="profile"}}},[s("b-row",{attrs:{"align-h":"center"}},[s("b-col",{attrs:{cols:"6"}},[s("b-form",{staticClass:"mt-3 mb-3",on:{submit:t.updateProfile}},[s("b-form-group",{attrs:{id:"fullname-group",label:"Nom complet :","label-for":"fullname"}},[s("b-form-input",{attrs:{id:"fullname",type:"text",placeholder:"Entrez votre nom et prÃ©nom",required:""},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}})],1),t._v(" "),s("b-form-group",{attrs:{id:"email-group",label:"Adresse e-mail :","label-for":"email"}},[s("b-form-input",{attrs:{id:"email",type:"email",placeholder:"Entrer votre e-mail",required:""},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1),t._v(" "),s("b-form-group",{attrs:{id:"password-group",label:"Mot de passe :","label-for":"password"}},[s("b-form-input",{attrs:{id:"password",type:"password",placeholder:"Entrer un mot de passe",description:"Votre mot de passe doit comporter entre 8 et 20 caractÃ¨res, contenir des lettres et des chiffres.",state:t.confirmedPassword},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),t._v(" "),s("b-form-group",{attrs:{id:"confirm-password-group",label:"Mot de passe de confirmation :","label-for":"confirm-password"}},[s("b-form-input",{attrs:{id:"confirm-password",type:"password",placeholder:"Confirmer le mot de passe",state:t.confirmedPassword},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}}),t._v(" "),s("b-form-invalid-feedback",{attrs:{state:t.confirmedPassword}},[t._v("\n                                                Le mot de passe de confirmation ne correspond pas au mot de passe.\n                                            ")])],1),t._v(" "),s("b-row",{attrs:{"align-h":"end"}},[s("b-col",{attrs:{cols:"auto"}},[s("b-button",{ref:"updateProfileBtn",attrs:{type:"submit",variant:"primary",disabled:!t.validProfileForm}},[t._v("Mettre Ã  jour")])],1)],1)],1)],1)],1)],1),t._v(" "),s("b-tab",{attrs:{title:"Logout"},on:{click:t.logout}})],1)],1)],1),t._v(" "),s("Footer")],1)],1)],1)}),[],!1,null,null,null).exports},6895:(t,e,s)=>{"use strict";s.d(e,{Z:()=>a});const o={name:"Footer"};const a=(0,s(1900).Z)(o,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-row",{staticClass:"mt-3",attrs:{"align-h":"center"}},[s("b-col",{staticClass:"text-center",attrs:{cols:"12"}},[t._v("\n        Developed by "),s("a",{attrs:{href:"https://baddi.info",target:"_blank"}},[t._v("Mohamed Baddi")]),s("br"),t._v("Made with "),s("i",{staticClass:"fas fa-heart",staticStyle:{color:"#69359c"}}),t._v(" & "),s("i",{staticClass:"fas fa-coffee",staticStyle:{color:"#666633"}})])],1)}),[],!1,null,null,null).exports},1967:(t,e,s)=>{"use strict";s.d(e,{Z:()=>a});const o={name:"Sidebar"};const a=(0,s(1900).Z)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("b-col",{staticClass:"d-none d-sm-none d-md-block",attrs:{md:"4"}},[e("b-card-img",{staticClass:"rounded-0 card-img",attrs:{src:"/img/one.jpg",alt:"Image"}})],1)}),[],!1,null,null,null).exports}}]);